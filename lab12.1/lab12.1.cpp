#include <iostream>
using namespace std;

void main() {
    setlocale(LC_ALL, "");
    long A = 25, B = 2, C = 3;
    long D = 180;    // опис операндів у пам’яті
    float Y;

    __asm {
        finit;           // Очищення регістрів співпроцесора
        fldpi;           // Завантаження числа π
        fimul A;         // Множення π на 25 (переведення градусів у радіани)
        fidiv D;         // Ділимо на 180 для переведення у радіани
        fcos;            // Обчислюємо косинус кута
        fldpi;           // Завантажуємо π знову
        fimul A;         // Знову множимо на 25
        fidiv D;         // Ділимо на 180 для синуса
        fsin;            // Обчислюємо синус кута
        fmul;            // Множимо значення косинуса на синус
        fimul C;         // Множимо результат на 3

        fld ST(0);       // Копіюємо результат на вершину стека
        fabs;            // Беремо абсолютне значення, щоб уникнути помилок з від'ємними значеннями
        fld1;            // Завантажуємо 1 у стек
        fsub;            // Обчислюємо 1 - (3 * cos(25°) * sin(25°))^2
        fsqrt;           // Обчислюємо квадратний корінь
        fdiv;            // Ділимо результат на отримане значення

        fld1;            // Завантажуємо 1 у стек
        fpatan;          // Обчислюємо арктангенс (замість арккосинуса використовуємо зворотну тригонометричну операцію)

        fimul B;         // Множимо результат на 2
        fldpi;           // Завантажуємо π
        fdiv;            // Переведення з радіанів у градуси
        fimul D;         // Множимо на 180
        fstp Y;          // Зберігаємо результат в комірку пам'яті
    }   // Закінчення асемблерної вставки

    cout << "Результат: " << Y << " градусів" << endl;
}
